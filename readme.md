# Deepseek-r1 Chatbot

Deepseek-r1 Chatbot은 Streamlit과 LangChain을 기반으로 한 대화형 챗봇 애플리케이션입니다. 이 앱은 Ollama의 **deepseek-r1:1.5b** 모델을 사용하여, 사용자의 입력에 대해 한국어로 응답을 생성합니다.

## 특징

- **고정 헤더**: 커스텀 CSS를 통해 상단에 고정된 제목(Deepseek-r1)을 표시하여 항상 앱 이름이 보입니다.
- **맞춤 사이드바**: 사이드바 하단에 설정(⚙️), 개발자 정보(👨‍💻), 모델 정보(📦)를 토글할 수 있는 아이콘을 배치하여, 필요 시 관련 패널을 열어볼 수 있습니다.
- **Streamlit 기본 헤더 최소화**: Streamlit의 기본 헤더(우측 상단의 deploy 및 점 3개의 아이콘)의 높이와 패딩을 조정하여 커스텀 제목이 가려지지 않도록 하였습니다.
- **대화형 챗봇**: 사용자의 메시지를 입력받아 Ollama LLM을 통해 실시간으로 응답을 생성하며, 대화 이력을 세션 상태로 관리합니다.

## 설치 및 실행

### 요구 사항

- Python 3.7 이상
- [Streamlit](https://streamlit.io/)
- [langchain_community](https://pypi.org/project/langchain-community/) 패키지 및 그 의존성
- Ollama 모델 실행 환경 (예: `ollama pull deepseek-r1` 명령어로 모델 다운로드)

### 설치 방법

1. 가상환경을 생성한 후, 필요한 패키지를 설치합니다.

   ```bash
   pip install streamlit langchain_community
2. 프로젝트 디렉토리에 아래의 코드를 app.py 등의 파일로 저장합니다.

3. 아래 명령어로 앱을 실행합니다.

    ```bash
    streamlit run app.py
### 사용 방법

1.	앱 실행 시 상단에 Deepseek-r1 제목이 고정되어 표시됩니다.
2.	좌측 사이드바에는 필요에 따라 아래 세 가지 패널을 토글할 수 있는 아이콘이 우측 하단에 배치되어 있습니다.
-	⚙️ 설정: Temperature 조절 및 “대화 내역 지우기” 기능을 제공합니다.
-	👨‍💻 개발자 정보: 개발자 이름과 연락처 정보가 표시됩니다.
-	📦 모델 정보: 사용 중인 모델(예: deepseek-r1:32b)의 정보를 확인할 수 있습니다.
3.	중앙의 채팅 입력창에 메시지를 입력하면, 챗봇이 Ollama LLM을 호출하여 한국어로 응답을 생성합니다.
4.	대화 이력은 세션 상태를 통해 관리되며, 필요 시 사이드바의 “대화 내역 지우기” 버튼으로 초기화할 수 있습니다.

### 코드 구조 및 설명

1. 페이지 설정 및 세션 상태 초기화
- st.set_page_config를 사용하여 페이지 제목 및 레이아웃을 설정합니다.
- 세션 상태를 활용하여 대화 이력, Temperature 설정, 그리고 사이드바 패널(설정, 개발자 정보, 모델 정보)의 표시 여부를 관리합니다.

2. 사용자 정의 CSS
- Streamlit 기본 헤더 영역의 높이와 패딩을 줄여서 커스텀 제목이 가려지지 않도록 합니다.
- .block-container의 padding-top을 조정하여 페이지 내용이 적절하게 배치되도록 합니다.
- 채팅 메시지의 스타일을 설정하여 사용자와 AI 응답을 보기 좋게 표시합니다.

3. 고정된 헤더
-  태그를 이용하여 상단에 고정된 제목(Deepseek-r1)을 표시하며, 인라인 스타일을 통해 배경색(검정)과 텍스트 색(흰색)을 적용합니다.

4. 사이드바 패널
- 세션 상태를 기반으로 설정, 개발자 정보, 모델 정보 패널을 토글하여 표시합니다.
- 사이드바 하단에 여백(Spacer)을 주어 아이콘들이 우측에 정렬되도록 구성되어 있습니다.

5. 챗봇 로직
- 사용자 입력은 st.chat_input을 통해 받아 세션 상태에 저장됩니다.
- get_llm() 함수는 Ollama LLM 인스턴스를 생성하며, 입력 프롬프트에 따라 응답을 생성합니다.
- 응답 생성 중에는 스피너가 표시되며, 오류 발생 시 적절한 에러 메시지와 안내를 제공합니다.

### 문제 해결 및 참고 사항
- 제목이 가려지는 문제:
기본 Streamlit 헤더의 높이와 패딩을 CSS로 조정하여 해결할 수 있습니다. 필요 시, header[data-testid="stHeader"]의 높이 값을 추가로 조정해 보세요.
- Ollama 연결 오류:
Ollama 모델이 정상적으로 실행 중인지, 네트워크 연결이 정상적인지 확인해 주세요.
- 대화 내역 초기화:
사이드바의 “대화 내역 지우기” 버튼을 사용하여 진행 중인 대화를 초기화할 수 있습니다.
